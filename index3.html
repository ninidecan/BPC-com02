<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="th" class="h-full"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1">&lt;meta charset="UTF-8"&gt;</p>
<p class="p1">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1">&lt;title&gt;แบบประเมินผลสัมฤทธิ์&lt;/title&gt;</p>
<p class="p1">&lt;script src="https://cdn.tailwindcss.com/3.4.17"&gt;&lt;/script&gt;</p>
<p class="p1">&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;</p>
<p class="p1">&lt;link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">tailwind.config = {</p>
<p class="p1"><span class="Apple-converted-space">  </span>theme: { extend: { fontFamily: { 'prompt': ['Prompt', 'sans-serif'] } } }</p>
<p class="p1">}</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;style&gt;</p>
<p class="p1">* { font-family: 'Prompt', sans-serif; }</p>
<p class="p1">html, body { height: 100%; }</p>
<p class="p1">#app { height: 100%; }</p>
<p class="p1">.likert-btn { min-width: 48px; min-height: 48px; transition: all 0.2s; font-weight: 600; border: 2px solid; }</p>
<p class="p1">.zebra-row:nth-child(odd)<span class="Apple-converted-space">  </span>{ background-color: #F0FDFA; }</p>
<p class="p1">.zebra-row:nth-child(even) { background-color: #FFFFFF; }</p>
<p class="p1">.error-highlight { border: 2px solid #EF4444 !important; box-shadow: 0 0 0 4px rgba(239,68,68,0.1); }</p>
<p class="p1">.card-locked { opacity: 0.6; cursor: not-allowed; }</p>
<p class="p1">.toast { animation: slideIn 0.3s ease-out; }</p>
<p class="p1">@keyframes slideIn { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }</p>
<p class="p1">.s2-unselected { background-color:#d1d5db!important; border-color:#9ca3af!important; color:#4b5563!important; }</p>
<p class="p1">.s2-0 { background-color:#9ca3af!important; border-color:#6b7280!important; color:white!important; }</p>
<p class="p1">.s2-1 { background-color:#f87171!important; border-color:#dc2626!important; color:white!important; }</p>
<p class="p1">.s2-2 { background-color:#fb923c!important; border-color:#ea580c!important; color:white!important; }</p>
<p class="p1">.s2-3 { background-color:#fcd34d!important; border-color:#eab308!important; color:#333!important; }</p>
<p class="p1">.s2-4 { background-color:#bfef45!important; border-color:#65a30d!important; color:#1a1a1a!important; }</p>
<p class="p1">.s2-5 { background-color:#4ade80!important; border-color:#16a34a!important; color:white!important; }</p>
<p class="p1">.s3-unselected { background-color:#ddd6fe!important; border-color:#c4b5fd!important; color:#6b21a8!important; }</p>
<p class="p1">.s3-1 { background-color:#f87171!important; border-color:#dc2626!important; color:white!important; }</p>
<p class="p1">.s3-2 { background-color:#fb923c!important; border-color:#ea580c!important; color:white!important; }</p>
<p class="p1">.s3-3 { background-color:#fcd34d!important; border-color:#eab308!important; color:#333!important; }</p>
<p class="p1">.s3-4 { background-color:#bfef45!important; border-color:#65a30d!important; color:#1a1a1a!important; }</p>
<p class="p1">.s3-5 { background-color:#4ade80!important; border-color:#16a34a!important; color:white!important; }</p>
<p class="p1">.scale-transition { transition: all 0.3s ease; }</p>
<p class="p1">.score-preview {</p>
<p class="p1"><span class="Apple-converted-space">  </span>display: inline-block; padding: 6px 10px; background-color: #fef3c7;</p>
<p class="p1"><span class="Apple-converted-space">  </span>border-left: 3px solid #f59e0b; border-radius: 4px; font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">  </span>color: #92400e; margin-top: 4px; font-weight: 600;</p>
<p class="p1">}</p>
<p class="p1">.sticky-header { position: sticky; top: 0; z-index: 30; }</p>
<p class="p1">&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body class="h-full bg-gradient-to-br from-cyan-50 via-white to-teal-50 overflow-auto"&gt;</p>
<p class="p1">&lt;div id="app" class="h-full w-full overflow-auto"&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- Toast --&gt;</p>
<p class="p1">&lt;div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- ===== LOGIN PAGE ===== --&gt;</p>
<p class="p1">&lt;div id="login-page" class="min-h-full flex items-center justify-center p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="w-full max-w-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="bg-white rounded-3xl shadow-2xl p-8 border border-cyan-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="text-center mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="w-20 h-20 mx-auto mb-4 shadow-lg rounded-full overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;img src="https://img5.pic.in.th/file/secure-sv1/PCCdc62cdda126e1ce4.png" alt="Logo" class="w-full h-full object-cover"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1 class="text-lg font-bold text-gray-800 mb-2"&gt;แบบประเมินผลสัมฤทธิ์&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-gray-600 text-xs leading-relaxed"&gt;โครงการฝึกอบรมการดูแลผู้ป่วยแบบประคับประคองขั้นพื้นฐาน สำหรับพยาบาลปฏิบัติงานหอผู้ป่วย&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-cyan-600 text-xs font-semibold mt-1"&gt;(หลักสูตร 5 วัน)&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="space-y-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>เลขที่ใบประกอบวิชาชีพ</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;input type="text" id="license-input" maxlength="10" pattern="[0-9]*" inputmode="numeric"</p>
<p class="p1"><span class="Apple-converted-space">            </span>placeholder="กรอกตัวเลข 10 หลัก"</p>
<p class="p1"><span class="Apple-converted-space">            </span>class="w-full px-4 py-4 text-lg text-center tracking-widest border-2 border-gray-200 rounded-xl focus:border-cyan-500 focus:ring-4 focus:ring-cyan-100 transition-all outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p id="license-error" class="text-red-500 text-sm mt-2 hidden"&gt;กรุณากรอกเลขใบประกอบวิชาชีพ 10 หลัก&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button id="login-btn" class="w-full py-4 bg-gradient-to-r from-cyan-600 to-teal-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all active:scale-95"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>เข้าสู่ระบบ</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p class="text-center text-gray-400 text-xs mt-6"&gt;ข้อมูลจะถูกเก็บเป็นความลับ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- ===== TIMELINE PAGE ===== --&gt;</p>
<p class="p1">&lt;div id="timeline-page" class="hidden w-full min-h-full p-4 pb-24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="max-w-2xl mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-cyan-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 class="text-xl font-bold text-gray-800"&gt;แบบประเมินผลสัมฤทธิ์&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-gray-500 text-sm mt-1"&gt;เลขที่ใบประกอบ: &lt;span id="display-license" class="font-medium text-cyan-600"&gt;&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button id="logout-btn" class="p-2 text-gray-400 hover:text-red-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="space-y-4" id="timeline-cards"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;!-- Pre-test --&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="assessment-card" data-round="pre"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-white rounded-2xl shadow-lg border-2 border-cyan-200 overflow-hidden transition-all hover:shadow-xl"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-start gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center flex-shrink-0 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="text-white font-bold text-lg"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center gap-2 mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;h3 class="font-bold text-lg text-gray-800"&gt;Pre-test&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span class="status-badge px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"&gt;ยังไม่ทำ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-500 text-sm"&gt;แบบประเมินก่อนการอบรม&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-400 text-xs mt-2 completion-date hidden"&gt;เสร็จสิ้นเมื่อ: &lt;span&gt;&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button class="start-btn px-6 py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white font-medium rounded-xl shadow-md hover:shadow-lg transition-all active:scale-95"&gt;เริ่มทำ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="h-1 bg-gray-100"&gt;&lt;div class="progress-bar h-full bg-gradient-to-r from-cyan-500 to-teal-500 transition-all duration-500" style="width:0%"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;!-- Post-test 1 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="assessment-card card-locked" data-round="post1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-white rounded-2xl shadow-lg border-2 border-gray-200 overflow-hidden transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-start gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="w-14 h-14 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center flex-shrink-0 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="text-white font-bold text-lg"&gt;2&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center gap-2 mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;h3 class="font-bold text-lg text-gray-800"&gt;Post-test 1&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span class="status-badge px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"&gt;รอปลดล็อค&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-500 text-sm"&gt;แบบประเมินหลังการอบรมครั้งที่ 1 (ทันที)&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-400 text-xs mt-2 completion-date hidden"&gt;เสร็จสิ้นเมื่อ: &lt;span&gt;&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button class="start-btn px-6 py-3 bg-gray-300 text-gray-500 font-medium rounded-xl cursor-not-allowed" disabled&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="h-1 bg-gray-100"&gt;&lt;div class="progress-bar h-full bg-gradient-to-r from-amber-500 to-orange-500 transition-all duration-500" style="width:0%"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;!-- Post-test 2 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="assessment-card card-locked" data-round="post2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-white rounded-2xl shadow-lg border-2 border-gray-200 overflow-hidden transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-start gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-500 to-green-500 flex items-center justify-center flex-shrink-0 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="text-white font-bold text-lg"&gt;3&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center gap-2 mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;h3 class="font-bold text-lg text-gray-800"&gt;Post-test 2&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span class="status-badge px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"&gt;รอปลดล็อค&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-500 text-sm"&gt;แบบประเมินหลังการอบรมครั้งที่ 2 (3 เดือน)&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-400 text-xs mt-2 completion-date hidden"&gt;เสร็จสิ้นเมื่อ: &lt;span&gt;&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button class="start-btn px-6 py-3 bg-gray-300 text-gray-500 font-medium rounded-xl cursor-not-allowed" disabled&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="h-1 bg-gray-100"&gt;&lt;div class="progress-bar h-full bg-gradient-to-r from-emerald-500 to-green-500 transition-all duration-500" style="width:0%"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="dashboard-btn-container" class="hidden mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button id="view-dashboard-btn" class="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>ดูผลลัพธ์ภาพรวม</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- ===== FORM PAGE ===== --&gt;</p>
<p class="p1">&lt;div id="form-page" class="hidden w-full min-h-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="sticky top-0 z-40 bg-white/95 backdrop-blur-sm shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="max-w-4xl mx-auto px-4 py-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button id="back-to-timeline" class="p-2 -ml-2 text-gray-600 hover:text-cyan-600 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 id="form-title" class="font-bold text-gray-800"&gt;แบบประเมิน&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-xs text-gray-500"&gt;ส่วนที่ &lt;span id="current-section"&gt;1&lt;/span&gt;/&lt;span id="total-section"&gt;3&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="w-10"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="mt-3 h-2 bg-gray-200 rounded-full overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="form-progress-bar" class="h-full bg-gradient-to-r from-cyan-500 to-teal-500 transition-all duration-300" style="width:0%"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="w-full max-w-4xl mx-auto p-4 pb-32"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Section 1 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="section-1" class="form-section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-cyan-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h3 class="text-lg font-bold text-gray-800 mb-1 flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="w-8 h-8 bg-cyan-100 text-cyan-600 rounded-lg flex items-center justify-center text-sm font-bold"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>ส่วนที่ 1: แบบบันทึกข้อมูลส่วนบุคคล</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-gray-500 text-sm ml-10"&gt;โปรดกรอกข้อมูลส่วนบุคคลของท่านให้ครบถ้วนและถูกต้อง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="space-y-4" id="personal-info-form"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="gender"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;1&lt;/span&gt;เพศ</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="flex flex-wrap gap-3 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="gender" value="male" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;ชาย&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="gender" value="female" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;หญิง&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="age"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;2&lt;/span&gt;อายุของท่าน (ปี)</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;input type="number" name="age" min="20" max="80" placeholder="กรอกอายุ" class="w-32 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-cyan-500 focus:ring-2 focus:ring-cyan-100 outline-none transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="marital_status"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;3&lt;/span&gt;สถานภาพสมรสของท่าน</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="space-y-2 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="marital_status" value="single" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;โสด&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="marital_status" value="married" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;สมรส&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="marital_status" value="divorced" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;หย่าร้าง&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="marital_status" value="widowed" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;หม้าย&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="marital_status" value="separated" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;แยก&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center gap-2 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="radio" name="marital_status" value="other" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;อื่น ๆ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="text" name="marital_status_other" placeholder="ระบุ" class="px-3 py-2 border border-gray-200 rounded-lg text-sm" style="display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="education"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;4&lt;/span&gt;ระดับการศึกษาสูงสุด</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="space-y-2 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="education" value="bachelor" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;ปริญญาตรี&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="education" value="master" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;ปริญญาโท&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="education" value="doctorate" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;ปริญญาเอก&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="hospital_level"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;5&lt;/span&gt;ระดับโรงพยาบาลที่ปฏิบัติงาน</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="space-y-2 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="hospital_level" value="community" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;โรงพยาบาลชุมชน&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="hospital_level" value="general" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;โรงพยาบาลทั่วไป&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="hospital_level" value="center" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;โรงพยาบาลศูนย์&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center gap-2 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="radio" name="hospital_level" value="other" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;อื่น ๆ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="text" name="hospital_level_other" placeholder="ระบุ" class="px-3 py-2 border border-gray-200 rounded-lg text-sm" style="display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="position"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;6&lt;/span&gt;ตำแหน่งงาน</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="space-y-2 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="position" value="head" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;หัวหน้ากลุ่มงาน/หัวหน้างาน&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="position" value="chief_ward" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;หัวหน้าหอผู้ป่วย/ศูนย์&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="position" value="deputy_chief" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;รองหัวหน้าหอผู้ป่วย/ศูนย์&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="position" value="nurse" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;พยาบาลวิชาชีพปฏิบัติงาน&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center gap-2 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="radio" name="position" value="other" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;อื่น ๆ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="text" name="position_other" placeholder="ระบุ" class="px-3 py-2 border border-gray-200 rounded-lg text-sm" style="display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="work_experience"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;7&lt;/span&gt;ประสบการณ์การปฏิบัติงานการพยาบาลทั้งหมด (ปี)</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;input type="number" name="work_experience" min="0" max="60" placeholder="กรอกจำนวนปี" class="w-32 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-cyan-500 focus:ring-2 focus:ring-cyan-100 outline-none transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="pc_experience"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;8&lt;/span&gt;เคยมีประสบการณ์การดูแลผู้ป่วยแบบประคับประคองหรือไม่</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="flex flex-wrap gap-3 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="pc_experience" value="yes" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;เคย&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;&lt;input type="radio" name="pc_experience" value="no" class="w-5 h-5 text-cyan-600"&gt;&lt;span&gt;ไม่เคย&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="question-item bg-white rounded-xl shadow p-4 border border-gray-100" data-question="pc_training"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="q-label block font-semibold text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-cyan-100 text-cyan-600 rounded-full text-xs font-bold mr-2"&gt;9&lt;/span&gt;เคยได้รับการอบรมการดูแลผู้ป่วยแบบประคับประคองหรือไม่</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="space-y-3 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="radio" name="pc_training" value="yes" class="w-5 h-5 text-cyan-600" onchange="document.querySelector('[name=training_course]').style.display='block'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;เคย&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;label class="flex items-center gap-2 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="radio" name="pc_training" value="no" class="w-5 h-5 text-cyan-600" onchange="document.querySelector('[name=training_course]').style.display='none'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span&gt;ไม่เคย&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;input type="text" name="training_course" placeholder="ถ้าเคย ระบุชื่อหลักสูตร" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-cyan-500 focus:ring-2 focus:ring-cyan-100 outline-none transition-all" style="display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Section 2 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="section-2" class="form-section hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="sticky-header bg-white/95 backdrop-blur-sm shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="max-w-4xl mx-auto p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="w-8 h-8 bg-amber-100 text-amber-600 rounded-lg flex items-center justify-center text-sm font-bold"&gt;2&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ส่วนที่ 2: แบบประเมินสมรรถนะการพยาบาลแบบประคับประคอง</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-gray-800 text-sm mb-3"&gt;แบบประเมินนี้วัดระดับการรับรู้สมรรถนะของท่านในการให้การพยาบาลผู้ป่วยระยะประคับประคอง กรุณาประเมินความสามารถของท่านในแต่ละรายการตามความเป็นจริง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p class="text-gray-500 text-xs font-semibold"&gt;คะแนนรวม 0-325&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex flex-wrap gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-gray-300 rounded border border-gray-400 flex items-center justify-center text-xs font-bold text-white"&gt;0&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;ไม่มีความมั่นใจ&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-red-300 rounded border border-red-400 flex items-center justify-center text-xs font-bold text-white"&gt;1&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;มั่นใจน้อยมาก&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-orange-300 rounded border border-orange-400 flex items-center justify-center text-xs font-bold text-white"&gt;2&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;มั่นใจน้อย&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-yellow-300 rounded border border-yellow-400 flex items-center justify-center text-xs font-bold text-gray-700"&gt;3&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;มั่นใจปานกลาง&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-lime-300 rounded border border-lime-400 flex items-center justify-center text-xs font-bold text-gray-700"&gt;4&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;มั่นใจมาก&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-green-400 rounded border border-green-500 flex items-center justify-center text-xs font-bold text-white"&gt;5&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;มั่นใจมากสุด&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 mt-4" id="competency-questions"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Section 3 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="section-3" class="form-section hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="sticky-header bg-white/95 backdrop-blur-sm shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="max-w-4xl mx-auto p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="w-8 h-8 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center text-sm font-bold"&gt;3&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ส่วนที่ 3: แบบสอบถามการดูแลยึดบุคคลเป็นศูนย์กลาง</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-gray-600 text-sm mb-3"&gt;แบบสอบถามนี้มีวัตถุประสงค์เพื่อวัดระดับการดูแลที่เน้นผู้ป่วยเป็นศูนย์กลางภายในหน่วยงาน ตามประสบการณ์และการรับรู้ของบุคลากร กรุณาประเมินแต่ละรายการตามความเป็นจริง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p class="text-gray-500 text-xs font-semibold"&gt;คะแนนรวม 13-65&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex flex-wrap gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-red-300 rounded border border-red-400 flex items-center justify-center text-xs font-bold text-white"&gt;1&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;ไม่เห็นด้วย อย่างยิ่ง&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-orange-300 rounded border border-orange-400 flex items-center justify-center text-xs font-bold text-white"&gt;2&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;ไม่เห็นด้วย&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-yellow-300 rounded border border-yellow-400 flex items-center justify-center text-xs font-bold text-gray-700"&gt;3&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;ไม่แน่ใจ&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-lime-300 rounded border border-lime-400 flex items-center justify-center text-xs font-bold text-gray-700"&gt;4&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;เห็นด้วย&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="w-12 h-8 bg-green-400 rounded border border-green-500 flex items-center justify-center text-xs font-bold text-white"&gt;5&lt;/div&gt;&lt;span class="text-xs text-gray-600 text-center mt-1 w-12"&gt;เห็นด้วย อย่างยิ่ง&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 mt-4" id="person-centered-questions"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Section 4 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="section-4" class="form-section hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-rose-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h3 class="text-lg font-bold text-gray-800 mb-1 flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="w-8 h-8 bg-rose-100 text-rose-600 rounded-lg flex items-center justify-center text-sm font-bold"&gt;4&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>ส่วนที่ 4: ประสบการณ์การดูแลผู้ป่วยแบบประคับประคอง</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-gray-500 text-sm ml-10"&gt;โปรดระบุจำนวนประมาณของผู้ป่วยที่ท่านได้ดูแลแบบประคับประคอง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-white rounded-xl shadow p-6 border border-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="block font-medium text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-rose-100 text-rose-600 rounded-full text-xs font-bold mr-2"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ผู้ป่วยกลุ่มโรคมะเร็ง จำนวนทั้งหมด (ประมาณ)</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="flex items-center gap-3 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;input type="number" id="cancer-patients" name="cancer_patients" min="0" placeholder="กรอกจำนวนคน (หรือ 0)" class="flex-1 max-w-xs px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-rose-500 focus:ring-2 focus:ring-rose-100 outline-none transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="text-gray-600 font-medium"&gt;คน&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-white rounded-xl shadow p-6 border border-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;label class="block font-medium text-gray-800 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="inline-flex items-center justify-center w-6 h-6 bg-rose-100 text-rose-600 rounded-full text-xs font-bold mr-2"&gt;2&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ผู้ป่วยไม่ใช่กลุ่มโรคมะเร็ง จำนวนทั้งหมด (ประมาณ)</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="flex items-center gap-3 ml-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;input type="number" id="non-cancer-patients" name="non_cancer_patients" min="0" placeholder="กรอกจำนวนคน (หรือ 0)" class="flex-1 max-w-xs px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-rose-500 focus:ring-2 focus:ring-rose-100 outline-none transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="text-gray-600 font-medium"&gt;คน&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-gray-400 text-xs ml-8 mt-4"&gt;หมายเหตุ: ถ้าไม่มีใส่ 0&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;!-- Fixed bottom nav --&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-gray-200 p-4 z-40"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="max-w-4xl mx-auto flex gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button id="prev-section-btn" class="flex-1 py-4 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-all hidden"&gt;ย้อนกลับ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button id="next-section-btn" class="flex-1 py-4 bg-gradient-to-r from-cyan-600 to-teal-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all"&gt;ถัดไป&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;button id="submit-btn" class="flex-1 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all hidden"&gt;ส่งแบบประเมิน&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- ===== DASHBOARD PAGE ===== --&gt;</p>
<p class="p1">&lt;div id="dashboard-page" class="hidden w-full min-h-full p-4 pb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="max-w-4xl mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-purple-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;h2 class="text-xl font-bold text-gray-800"&gt;ผลลัพธ์ภาพรวม&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-gray-500 text-sm mt-1"&gt;เลขที่ใบประกอบ: &lt;span id="dashboard-license" class="font-medium text-purple-600"&gt;&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button id="back-to-timeline-from-dashboard" class="p-2 text-gray-400 hover:text-purple-600 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h3 class="font-bold text-gray-800 mb-4"&gt;กราฟแสดงพัฒนาการ&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="relative" style="height:350px;"&gt;&lt;canvas id="results-chart"&gt;&lt;/canvas&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;p class="text-center text-sm text-gray-500 mt-4"&gt;ขอบคุณสำหรับการประเมิน&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="p-4 bg-gradient-to-r from-purple-50 to-pink-50 border-b border-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h3 class="font-bold text-gray-800"&gt;ตารางสรุปคะแนน&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;table class="w-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;th class="px-4 py-3 text-left text-sm font-semibold text-gray-700"&gt;รายการ&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;th class="px-4 py-3 text-center text-sm font-semibold text-gray-700"&gt;Pre-test&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;th class="px-4 py-3 text-center text-sm font-semibold text-gray-700"&gt;Post-test 1&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;th class="px-4 py-3 text-center text-sm font-semibold text-gray-700"&gt;Post-test 2&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;tbody id="score-table-body"&gt;&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div id="s2-interpretation" class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-lg p-6 border border-amber-200"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div id="s3-interpretation" class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl shadow-lg p-6 border border-purple-200"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="patient-experience-card" class="hidden bg-gradient-to-br from-rose-50 to-red-50 rounded-2xl shadow-lg p-6 border border-rose-200 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h3 class="font-bold text-gray-800 mb-4"&gt;ประสบการณ์การดูแลผู้ป่วยแบบประคับประคอง&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="grid grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-white rounded-xl p-4 border border-rose-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-sm text-gray-600"&gt;ผู้ป่วยมะเร็ง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p id="cancer-count" class="text-2xl font-bold text-rose-600 mt-2"&gt;-&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-xs text-gray-500 mt-1"&gt;คน&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-white rounded-xl p-4 border border-rose-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-sm text-gray-600"&gt;ผู้ป่วยไม่ใช่มะเร็ง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p id="non-cancer-count" class="text-2xl font-bold text-rose-600 mt-2"&gt;-&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p class="text-xs text-gray-500 mt-1"&gt;คน&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="mt-4 p-3 bg-white rounded-lg border border-rose-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-sm font-medium text-gray-700"&gt;รวมทั้งหมด: &lt;span id="total-patients" class="text-rose-600 font-bold"&gt;-&lt;/span&gt; คน&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;h3 class="font-bold text-gray-800 mb-4"&gt;ข้อมูลส่วนบุคคล&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div id="personal-info-summary" class="grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- Modal --&gt;</p>
<p class="p1">&lt;div id="modal-overlay" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 transform transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="modal-icon" class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h3 id="modal-title" class="text-xl font-bold text-center text-gray-800 mb-2"&gt;&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;p id="modal-message" class="text-gray-500 text-center text-sm mb-6 whitespace-pre-wrap leading-relaxed"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button id="modal-close-btn" class="w-full py-3 bg-gradient-to-r from-cyan-600 to-teal-600 text-white font-semibold rounded-xl"&gt;ตกลง&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/div&gt;&lt;!-- #app --&gt;</p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">// ====================================================================</p>
<p class="p1">// ⚠️<span class="Apple-converted-space">  </span>ตั้งค่า URL ของ Google Apps Script Web App ที่นี่</p>
<p class="p1">// ====================================================================</p>
<p class="p1">const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwUFNrfGZfEn0tYI01VOgkfMpyavnGgBKMAWuitemMsahfgZQmKZNWxcQwn_h3bNAZ2/exec';</p>
<p class="p1">// ====================================================================</p>
<p class="p2"><br></p>
<p class="p1">// ==================== COMPETENCY QUESTIONS (65) ====================</p>
<p class="p1">const competencyQuestions = [</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินอาการปวดในผู้ป่วยระยะประคับประคองโดยพิจารณาองค์ประกอบต่อไปนี้ทั้งหมด : ลักษณะ<span class="Apple-converted-space">  </span>ระยะเวลา<span class="Apple-converted-space">  </span>ตำแหน่ง<span class="Apple-converted-space">  </span>ความรุนแรง<span class="Apple-converted-space">  </span>ปัจจัยกระตุ้นและปัจจัยบรรเทา",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินอาการปวดในผู้ป่วยระยะประคับประคองที่ไม่สามารถสื่อสารได้",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านใช้วิธีการให้ยาอย่างมีประสิทธิภาพเพื่อบรรเทาอาการปวดในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านใช้วิธีแบบไม่ใช้ยาและการบำบัดเสริมอื่นเพื่อบรรเทาอาการปวดในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินผลข้างเคียงที่เกี่ยวข้องกับยาแก้ปวดได้ตั้งแต่ระยะเริ่มต้น",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลอย่างมีประสิทธิภาพเพื่อบรรเทาอาการคลื่นไส้และอาเจียนในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลอย่างมีประสิทธิภาพเพื่อบรรเทาอาการท้องผูกในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลอย่างมีประสิทธิภาพเพื่อบรรเทาอาการอ่อนเพลียในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลอย่างมีประสิทธิภาพเพื่อบรรเทาอาการหายใจลำบากในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านดูแลช่องปากอย่างเหมาะสมเพื่อส่งเสริมความสุขสบายในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินภาวะเพ้อสับสนในผู้ป่วยระยะประคับประคองได้อย่างทันท่วงที",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินภาวะซึมเศร้าในผู้ป่วยระยะประคับประคองแล้วครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลอย่างมีประสิทธิภาพเพื่อลดความทุกข์ทางจิตใจในผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านช่วยเหลือผู้ป่วยระยะประคับประคองและครอบครัวให้เผชิญกับความเครียดที่เกี่ยวข้องกับการเจ็บป่วย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การสนับสนุนผู้ป่วยระยะประคับประคองและครอบครัวเมื่อเผชิญกับความโศกเศร้า",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินผลกระทบของโรคที่คุกคามชีวิตต่อพลวัตของครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านช่วยเหลือผู้ป่วยระยะประคับประคองและครอบครัวในการรักษาประเพณีทางวัฒนธรรมแม้จะมีความเจ็บป่วย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านช่วยเหลือผู้ป่วยระยะประคับประคองและครอบครัวในการระบุทรัพยากรส่วนบุคคลเพื่อรับมือกับปัญหาที่เกี่ยวข้องกับโรคที่คุกคามชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งเสริมการสื่อสารระหว่างผู้ป่วยระยะประคับประคองและสมาชิกในครอบครัวเมื่อเกิดความขัดแย้ง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งต่อผู้ป่วยระยะประคับประคองและครอบครัวไปยังแหล่งสนับสนุนที่เหมาะสมเพื่อตอบสนองความต้องการทางสังคม",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินความต้องการทางจิตวิญญาณของผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านรับรู้สัญญาณของความทุกข์ทางจิตวิญญาณในผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านช่วยเหลือผู้ป่วยระยะประคับประคองและครอบครัวในการค้นหาความหวังที่หลากหลายเมื่อพวกเขาแสดงสัญญาณของความสิ้นหวัง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านช่วยเหลือผู้ป่วยระยะประคับประคองในการค้นหาความหมายของประสบการณ์การเจ็บป่วยของพวกเขา",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านปรับการพยาบาลให้สอดคล้องกับความเชื่อทางจิตวิญญาณของผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินความต้องการที่เกี่ยวข้องกับกิจกรรมในชีวิตประจำวันในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินความต้องการการสนับสนุนด้านการดูแลผู้ป่วยเพื่อป้องกันภาวะหมดไฟในสมาชิกครอบครัวที่ดูแลผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านช่วยเหลือผู้ป่วยระยะประคับประคองในการรักษาความเป็นอิสระในการทำกิจกรรมให้นานที่สุดเท่าที่เป็นไปได้",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านเสริมสร้างพลังของสมาชิกครอบครัวในการให้การดูแลผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านดำเนินการด้วยวิธีที่เหมาะสมเพื่อช่วยบรรเทาภาระของสมาชิกครอบครัวที่ดูแลผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านระบุประเด็นทางจริยธรรมที่เกี่ยวข้องกับการดูแลผู้ป่วยระยะประคับประคองได้อย่างทันท่วงที",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้ข้อมูลแก่ผู้ป่วยระยะประคับประคองเกี่ยวกับประเด็นทางกฎหมายที่เกี่ยวข้องกับโรคที่คุกคามชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านช่วยเหลือผู้ป่วยระยะประคับประคองในการตัดสินใจอย่างถ่อมตัวเกี่ยวกับการดูแลในช่วงท้ายของชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านทำหน้าที่เป็นผู้พิทักษ์สิทธิของผู้ป่วยระยะประคับประคองและครอบครัวกับสมาชิกคนอื่นๆ<span class="Apple-converted-space">  </span>ในทีมสุขภาพ",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านทำหน้าที่เป็นผู้พิทักษ์สิทธิของผู้ป่วยระยะประคับประคองเมื่อมีความเห็นแตกต่างกันกับครอบครัวเกี่ยวกับประเด็นการดูแล",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านมีส่วนร่วมอย่างแข็งขันในการอภิปรายเกี่ยวกับสถานการณ์ทางคลินิกของผู้ป่วยระยะประคับประคองในระหว่างการประชุมทีมสหวิชาชีพ",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งเสริมการสื่อสารระหว่างบุคลากรสุขภาพเกี่ยวกับผู้ป่วยระยะประคับประคองเพื่อสนับสนุนความต่อเนื่องของการดูแล",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งเสริมการสื่อสารระหว่างผู้ป่วยระยะประคับประคอง<span class="Apple-converted-space">  </span>ครอบครัว<span class="Apple-converted-space">  </span>และบุคลากรสุขภาพเพื่อให้มั่นใจในการแลกเปลี่ยนข้อมูล",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งเสริมการสื่อสารระหว่างบุคลากรสุขภาพเมื่อเกิดความขัดแย้งในการดูแลผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งเสริมความร่วมมือของสหสาขาวิชาชีพในการดูแลผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านรับรู้ว่าความเชื่อส่วนบุคคลและทางวิชาชีพของท่านจะมีอิทธิพลต่อการดูแลที่ท่านให้กับผู้ป่วยระยะประคับประคองและครอบครัวอย่างมาก",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านเผชิญกับการสูญเสียและความโศกเศร้าที่เกี่ยวข้องกับการดูแลผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านระบุปัจจัยกระตุ้นที่ส่งผลกระทบเมื่อท่านให้การดูแลผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านระบุแหล่งประโยชน์ของท่านเองเพื่อจัดการกับความเครียดที่เกี่ยวข้องกับการดูแลผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านสนทนาเรื่องความตายและการจากไปกับผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลอย่างมีประสิทธิภาพเพื่อบรรเทาอาการปวดในผู้ป่วยระยะประคับประคองในช่วงชั่วโมงสุดท้ายของชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลอย่างมีประสิทธิภาพเพื่อบรรเทาอาการหายใจลำบากในช่วงชั่วโมงสุดท้ายของชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านสามารถระบุสัญญาณและอาการของระยะใกล้เสียชีวิตในผู้ป่วยระยะประคับประคอง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านแสดงความจริงใจในการอยู่เคียงข้างในช่วงชั่วโมงสุดท้ายของชีวิตกับผู้ป่วยระยะประคับประคองและครอบครัว",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งเสริมการปฏิบัติทางประเพณี<span class="Apple-converted-space">  </span>วัฒนธรรม<span class="Apple-converted-space">  </span>และศาสนาสำหรับผู้ป่วยระยะประคับประคองและครอบครัวในช่วงชั่วโมงสุดท้ายของชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลผู้ป่วยและครอบครัวแบบองค์รวม<span class="Apple-converted-space">  </span>ครอบคลุมทั้งด้านร่างกาย<span class="Apple-converted-space">  </span>จิตใจ<span class="Apple-converted-space">  </span>สังคม<span class="Apple-converted-space">  </span>และจิตวิญญาณ",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประยุกต์ใช้ปรัชญาและเป้าหมายของการดูแลแบบประคับประคองในการปฏิบัติการพยาบาล",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การดูแลผู้ป่วยและครอบครัวอย่างต่อเนื่องตั้งแต่เริ่มวินิจฉัยโรคจนถึงภายหลังการเสียชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งเสริมคุณภาพชีวิตของผู้ป่วยและครอบครัวในทุกช่วงของการเจ็บป่วย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านอธิบายกลไกของความปวดและอาการรบกวนอื่นๆ<span class="Apple-converted-space">  </span>แก่ผู้ป่วยและครอบครัวได้อย่างเข้าใจง่าย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินอาการรบกวนอื่นๆ<span class="Apple-converted-space">  </span>ได้อย่างเหมาะสม<span class="Apple-converted-space">  </span>เช่น<span class="Apple-converted-space">  </span>อ่อนแรง<span class="Apple-converted-space">  </span>เบื่ออาหาร<span class="Apple-converted-space">  </span>นอนไม่หลับ",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประยุกต์ใช้การรักษาทั้งด้วยยาและไม่ใช้ยาเพื่อลดความทุกข์ทรมานและส่งเสริมความสุขสบายของผู้ป่วย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านเข้าใจกระบวนการตายและสามารถอธิบายให้ผู้ป่วยและครอบครัวเข้าใจได้",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านเตรียมผู้ป่วยและครอบครัวต่อการเปลี่ยนแปลงทางร่างกายและจิตใจในระยะสุดท้ายของชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านดูแลร่างกายผู้ป่วยภายหลังเสียชีวิตอย่างสุภาพ<span class="Apple-converted-space">  </span>เคารพศักดิ์ศรี<span class="Apple-converted-space">  </span>และเหมาะสมตามวัฒนธรรม",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านประเมินและให้การช่วยเหลือครอบครัวในการเผชิญความสูญเสียทั้งก่อนและหลังผู้ป่วยเสียชีวิต",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านแยกแยะความเศร้าโศกตามธรรมชาติกับภาวะซึมเศร้าที่ต้องการการรักษา",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านส่งต่อครอบครัวไปยังผู้เชี่ยวชาญด้านสุขภาพจิตหรือการให้คำปรึกษาเมื่อจำเป็น",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านให้การสนับสนุนครอบครัวในระยะหลังการสูญเสียอย่างต่อเนื่องและเหมาะสม",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านใช้ทักษะการสื่อสารเชิงบำบัดในการดูแลผู้ป่วยและครอบครัวอย่างมีประสิทธิผล"</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">// ==================== PERSON-CENTERED QUESTIONS (13) ====================</p>
<p class="p1">const personCenteredQuestions = [</p>
<p class="p1"><span class="Apple-converted-space">  </span>"เรามักพูดคุยกันอยู่เสมอเกี่ยวกับวิธีการให้การดูแลที่เน้นผู้ป่วยเป็นศูนย์กลาง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"เรามีการประชุมทีมอย่างเป็นทางการเพื่อหารือเกี่ยวกับการดูแลผู้ป่วย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ประวัติชีวิตของผู้ป่วยถูกนำมาใช้อย่างเป็นทางการในแผนการดูแล",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"คุณภาพของปฏิสัมพันธ์ระหว่างบุคลากรและผู้ป่วยมีความสำคัญมากกว่าการทำงานให้เสร็จ",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"เรามีอิสระในการปรับเปลี่ยนกิจวัตรการทำงานตามความพึงพอใจของผู้ป่วย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ผู้ป่วยได้รับโอกาสในการมีส่วนร่วมในกิจกรรมประจำวันเฉพาะบุคคล",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ท่านไม่มีเวลาเพียงพอที่จะให้การดูแลที่เน้นผู้ป่วยเป็นศูนย์กลาง",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"สภาพแวดล้อมการทำงานในหน่วยงานให้ความรู้สึกสับสนวุ่นวาย",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"เราต้องทำงานให้เสร็จก่อนจึงจะให้ความสำคัญกับสภาพแวดล้อมที่อบอุ่นเหมือนบ้าน",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"หน่วยงานเป็นอุปสรรคที่ทำให้ฉันไม่สามารถให้การดูแลที่เน้นผู้ป่วยเป็นศูนย์กลางได้",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"การประเมินความต้องการของผู้ป่วยถูกดำเนินการเป็นประจำทุกวัน",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ผู้ป่วยในหน่วยงานของท่านหาทางเดินไปมาได้ยาก",</p>
<p class="p1"><span class="Apple-converted-space">  </span>"ผู้ป่วยในหน่วยงานของท่านสามารถเข้าถึงพื้นที่กลางภายนอกได้ตามที่ต้องการ"</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">// ==================== STATE ====================</p>
<p class="p1">let currentUser = null;</p>
<p class="p1">let currentRound = null;</p>
<p class="p1">let currentSection = 1;</p>
<p class="p1">let formAnswers = { section1: {}, section2: [], section3: [], section4: {} };</p>
<p class="p1">let resultsChart = null;</p>
<p class="p2"><br></p>
<p class="p1">// ==================== API ====================</p>
<p class="p1">async function apiGet(license) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const url = SCRIPT_URL + '?action=get&amp;license=' + encodeURIComponent(license);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const r = await fetch(url);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const json = await r.json();</p>
<p class="p1"><span class="Apple-converted-space">    </span>return Array.isArray(json) ? json : [];</p>
<p class="p1"><span class="Apple-converted-space">  </span>} catch(e) { return []; }</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function apiCreate(data) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const url = SCRIPT_URL + '?action=create&amp;data=' + encodeURIComponent(JSON.stringify(data));</p>
<p class="p1"><span class="Apple-converted-space">  </span>const r = await fetch(url);</p>
<p class="p1"><span class="Apple-converted-space">  </span>return r.json();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// ==================== UTILITY ====================</p>
<p class="p1">function showToast(message, type = 'info') {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const container = document.getElementById('toast-container');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const toast = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const colors = { success:'bg-emerald-500', error:'bg-red-500', info:'bg-cyan-500', warning:'bg-amber-500' };</p>
<p class="p1"><span class="Apple-converted-space">  </span>toast.className = `toast ${colors[type]} text-white px-6 py-3 rounded-xl shadow-lg flex items-center gap-2`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const icons = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>success: '&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"&gt;&lt;/path&gt;',</p>
<p class="p1"><span class="Apple-converted-space">    </span>error: <span class="Apple-converted-space">  </span>'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;',</p>
<p class="p1"><span class="Apple-converted-space">    </span>info:<span class="Apple-converted-space">    </span>'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;',</p>
<p class="p1"><span class="Apple-converted-space">    </span>warning: '&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"&gt;&lt;/path&gt;'</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>toast.innerHTML = `&lt;svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;${icons[type]||icons.info}&lt;/svg&gt;&lt;span&gt;${message}&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>container.appendChild(toast);</p>
<p class="p1"><span class="Apple-converted-space">  </span>setTimeout(() =&gt; toast.remove(), 4000);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function showModal(title, message, type = 'info') {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const overlay = document.getElementById('modal-overlay');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const iconDiv = document.getElementById('modal-icon');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const icons = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>success: { bg:'bg-emerald-100', color:'text-emerald-600', path:'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"&gt;&lt;/path&gt;' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>error: <span class="Apple-converted-space">  </span>{ bg:'bg-red-100', <span class="Apple-converted-space">    </span>color:'text-red-600', <span class="Apple-converted-space">    </span>path:'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>info:<span class="Apple-converted-space">    </span>{ bg:'bg-cyan-100',<span class="Apple-converted-space">    </span>color:'text-cyan-600',<span class="Apple-converted-space">    </span>path:'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>warning: { bg:'bg-amber-100', <span class="Apple-converted-space">  </span>color:'text-amber-600', <span class="Apple-converted-space">  </span>path:'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"&gt;&lt;/path&gt;' }</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>const icon = icons[type] || icons.info;</p>
<p class="p1"><span class="Apple-converted-space">  </span>iconDiv.className = `w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${icon.bg}`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>iconDiv.innerHTML = `&lt;svg class="w-8 h-8 ${icon.color}" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;${icon.path}&lt;/svg&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('modal-title').textContent = title;</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('modal-message').textContent = message;</p>
<p class="p1"><span class="Apple-converted-space">  </span>overlay.classList.remove('hidden');</p>
<p class="p1">}</p>
<p class="p1">function hideModal() { document.getElementById('modal-overlay').classList.add('hidden'); }</p>
<p class="p2"><br></p>
<p class="p1">function formatDate(date) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (!date) return '-';</p>
<p class="p1"><span class="Apple-converted-space">  </span>return new Date(date).toLocaleDateString('th-TH', { year:'numeric', month:'short', day:'numeric', hour:'2-digit', minute:'2-digit' });</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function getInterpretation(section, score) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (section === 2) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (score &lt; 81.25)<span class="Apple-converted-space">  </span>return { level:'น้อยมาก', color:'text-red-600',<span class="Apple-converted-space">    </span>bg:'bg-red-50' };</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (score &lt; 162.5)<span class="Apple-converted-space">  </span>return { level:'น้อย', <span class="Apple-converted-space">    </span>color:'text-orange-600', bg:'bg-orange-50' };</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (score &lt; 243.75) return { level:'ปานกลาง',<span class="Apple-converted-space">  </span>color:'text-amber-600',<span class="Apple-converted-space">  </span>bg:'bg-amber-50' };</p>
<p class="p1"><span class="Apple-converted-space">    </span>return { level:'มาก', color:'text-emerald-600', bg:'bg-emerald-50' };</p>
<p class="p1"><span class="Apple-converted-space">  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (score &lt; 16.25)<span class="Apple-converted-space">  </span>return { level:'น้อยมาก', color:'text-red-600',<span class="Apple-converted-space">    </span>bg:'bg-red-50' };</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (score &lt; 32.5) <span class="Apple-converted-space">  </span>return { level:'น้อย', <span class="Apple-converted-space">    </span>color:'text-orange-600', bg:'bg-orange-50' };</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (score &lt; 48.75)<span class="Apple-converted-space">  </span>return { level:'ปานกลาง',<span class="Apple-converted-space">  </span>color:'text-amber-600',<span class="Apple-converted-space">  </span>bg:'bg-amber-50' };</p>
<p class="p1"><span class="Apple-converted-space">    </span>return { level:'มาก', color:'text-emerald-600', bg:'bg-emerald-50' };</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// ==================== PAGE NAV ====================</p>
<p class="p1">function showPage(pageId) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.querySelectorAll('#app &gt; div[id$="-page"]').forEach(p =&gt; p.classList.add('hidden'));</p>
<p class="p1"><span class="Apple-converted-space">  </span>const page = document.getElementById(pageId);</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (page) { page.classList.remove('hidden'); page.scrollTo ? page.scrollTo(0,0) : window.scrollTo(0,0); }</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// ==================== LOGIN ====================</p>
<p class="p1">function initLogin() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const input = document.getElementById('license-input');</p>
<p class="p1"><span class="Apple-converted-space">  </span>input.addEventListener('input', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>e.target.value = e.target.value.replace(/\D/g,'').slice(0,10);</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('license-error').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('login-btn').addEventListener('click', handleLogin);</p>
<p class="p1"><span class="Apple-converted-space">  </span>input.addEventListener('keypress', e =&gt; { if (e.key === 'Enter') handleLogin(); });</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function handleLogin() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const input = document.getElementById('license-input');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const licenseNumber = input.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (licenseNumber.length !== 10) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('license-error').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">    </span>input.classList.add('error-highlight');</p>
<p class="p1"><span class="Apple-converted-space">    </span>setTimeout(() =&gt; input.classList.remove('error-highlight'), 1000);</p>
<p class="p1"><span class="Apple-converted-space">    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>const btn = document.getElementById('login-btn');</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.textContent = 'กำลังโหลด...';</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const records = await apiGet(licenseNumber);</p>
<p class="p1"><span class="Apple-converted-space">    </span>buildUserFromRecords(licenseNumber, records);</p>
<p class="p1"><span class="Apple-converted-space">  </span>} catch(e) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>buildUserFromRecords(licenseNumber, []);</p>
<p class="p1"><span class="Apple-converted-space">    </span>showToast('ไม่สามารถเชื่อมต่อ server ข้อมูลอาจไม่ถูกบันทึก', 'warning');</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.textContent = 'เข้าสู่ระบบ';</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">  </span>showTimeline();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function buildUserFromRecords(licenseNumber, records) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>currentUser = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>licenseNumber,</p>
<p class="p1"><span class="Apple-converted-space">    </span>personalInfo: null,</p>
<p class="p1"><span class="Apple-converted-space">    </span>rounds: {</p>
<p class="p1"><span class="Apple-converted-space">      </span>pre: <span class="Apple-converted-space">  </span>{ completed:false, date:null, scores:{section2:0,section3:0}, patients:{cancer:0,non_cancer:0} },</p>
<p class="p1"><span class="Apple-converted-space">      </span>post1: { completed:false, date:null, scores:{section2:0,section3:0}, patients:{cancer:0,non_cancer:0} },</p>
<p class="p1"><span class="Apple-converted-space">      </span>post2: { completed:false, date:null, scores:{section2:0,section3:0}, patients:{cancer:0,non_cancer:0} }</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (records.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const r = records[0];</p>
<p class="p1"><span class="Apple-converted-space">    </span>currentUser.personalInfo = {</p>
<p class="p1"><span class="Apple-converted-space">      </span>gender:r.gender, age:r.age, marital_status:r.marital_status,</p>
<p class="p1"><span class="Apple-converted-space">      </span>education:r.education, hospital_level:r.hospital_level,</p>
<p class="p1"><span class="Apple-converted-space">      </span>position:r.position, work_experience:r.work_experience,</p>
<p class="p1"><span class="Apple-converted-space">      </span>pc_experience:r.pc_experience, pc_training:r.pc_training,</p>
<p class="p1"><span class="Apple-converted-space">      </span>training_course:r.training_course</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>records.forEach(record =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const rnd = record.round;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!['pre','post1','post2'].includes(rnd)) return;</p>
<p class="p1"><span class="Apple-converted-space">    </span>currentUser.rounds[rnd] = {</p>
<p class="p1"><span class="Apple-converted-space">      </span>completed: true,</p>
<p class="p1"><span class="Apple-converted-space">      </span>date: record.assessment_date,</p>
<p class="p1"><span class="Apple-converted-space">      </span>scores: { section2: Number(record.section2_score)||0, section3: Number(record.section3_score)||0 },</p>
<p class="p1"><span class="Apple-converted-space">      </span>patients: { cancer: Number(record.cancer_patients)||0, non_cancer: Number(record.non_cancer_patients)||0 }</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// ==================== TIMELINE ====================</p>
<p class="p1">function showTimeline() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>showPage('timeline-page');</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('display-license').textContent = currentUser.licenseNumber;</p>
<p class="p1"><span class="Apple-converted-space">  </span>updateTimelineCards();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function updateTimelineCards() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const rounds = ['pre','post1','post2'];</p>
<p class="p1"><span class="Apple-converted-space">  </span>rounds.forEach((round, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const card = document.querySelector(`.assessment-card[data-round="${round}"]`);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const status = card.querySelector('.status-badge');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const btn = card.querySelector('.start-btn');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const dateEl = card.querySelector('.completion-date');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const progressBar = card.querySelector('.progress-bar');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const cardContainer = card.querySelector('.bg-white');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const roundData = currentUser.rounds[round];</p>
<p class="p1"><span class="Apple-converted-space">    </span>const prevRound = index &gt; 0 ? rounds[index-1] : null;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const isUnlocked = !prevRound || currentUser.rounds[prevRound].completed;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>card.classList.toggle('card-locked', !isUnlocked);</p>
<p class="p1"><span class="Apple-converted-space">    </span>cardContainer.classList.remove('border-cyan-200','border-amber-200','border-emerald-200','border-gray-200');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const borderClasses = ['border-cyan-200','border-amber-200','border-emerald-200'];</p>
<p class="p1"><span class="Apple-converted-space">    </span>cardContainer.classList.add(isUnlocked ? borderClasses[index] : 'border-gray-200');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>if (roundData.completed) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>status.textContent = 'เสร็จสิ้น';</p>
<p class="p1"><span class="Apple-converted-space">      </span>status.className = 'status-badge px-3 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-600';</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.innerHTML = `&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"&gt;&lt;/path&gt;&lt;/svg&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.className = 'start-btn p-3 bg-emerald-100 text-emerald-600 rounded-xl';</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">      </span>dateEl.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">      </span>dateEl.querySelector('span').textContent = formatDate(roundData.date);</p>
<p class="p1"><span class="Apple-converted-space">      </span>progressBar.style.width = '100%';</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else if (isUnlocked) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>status.textContent = 'ยังไม่ทำ';</p>
<p class="p1"><span class="Apple-converted-space">      </span>status.className = 'status-badge px-3 py-1 rounded-full text-xs font-medium bg-cyan-100 text-cyan-600';</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.textContent = 'เริ่มทำ';</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.className = 'start-btn px-6 py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white font-medium rounded-xl shadow-md hover:shadow-lg transition-all active:scale-95';</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.onclick = () =&gt; startAssessment(round);</p>
<p class="p1"><span class="Apple-converted-space">      </span>dateEl.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">      </span>progressBar.style.width = '0%';</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">      </span>status.textContent = 'รอปลดล็อค';</p>
<p class="p1"><span class="Apple-converted-space">      </span>status.className = 'status-badge px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600';</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.innerHTML = `&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"&gt;&lt;/path&gt;&lt;/svg&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.className = 'start-btn px-6 py-3 bg-gray-300 text-gray-500 font-medium rounded-xl cursor-not-allowed';</p>
<p class="p1"><span class="Apple-converted-space">      </span>btn.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">      </span>dateEl.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">      </span>progressBar.style.width = '0%';</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>const allCompleted = rounds.every(r =&gt; currentUser.rounds[r].completed);</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('dashboard-btn-container').classList.toggle('hidden', !allCompleted);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// ==================== FORM ====================</p>
<p class="p1">function startAssessment(round) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>currentRound = round;</p>
<p class="p1"><span class="Apple-converted-space">  </span>currentSection = currentUser.personalInfo ? 2 : 1;</p>
<p class="p1"><span class="Apple-converted-space">  </span>formAnswers = { section1:{}, section2:[], section3:[], section4:{} };</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (currentUser.personalInfo) formAnswers.section1 = { ...currentUser.personalInfo };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const titles = { pre:'Pre-test', post1:'Post-test 1', post2:'Post-test 2' };</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('form-title').textContent = `แบบประเมิน ${titles[currentRound]}`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const totalSec = (currentUser.personalInfo ? 0 : 1) + 2 + (currentRound === 'post2' ? 1 : 0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('total-section').textContent = totalSec;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>showPage('form-page');</p>
<p class="p1"><span class="Apple-converted-space">  </span>generateQuestions();</p>
<p class="p1"><span class="Apple-converted-space">  </span>showSection(currentSection);</p>
<p class="p1"><span class="Apple-converted-space">  </span>updateFormProgress();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function generateQuestions() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>// Section 2</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('competency-questions').innerHTML = competencyQuestions.map((q,i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const cv = formAnswers.section2[i];</p>
<p class="p1"><span class="Apple-converted-space">    </span>return `&lt;div class="question-row zebra-row p-4 border-b border-gray-100" data-question="s2_${i}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="flex flex-col sm:flex-row sm:items-center gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="inline-flex items-center justify-center w-8 h-8 bg-amber-100 text-amber-600 rounded-lg text-sm font-bold mr-2"&gt;${i+1}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="text-gray-700 text-sm"&gt;${q}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>${cv !== undefined ? `&lt;div class="score-preview"&gt;เลือก: ระดับ ${cv}&lt;/div&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="flex gap-1 justify-end flex-wrap min-w-fit"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>${[0,1,2,3,4,5].map(score =&gt; `&lt;button type="button" class="likert-btn s2-${cv===score?score:'unselected'}" data-section="2" data-index="${i}" data-value="${score}" onclick="selectLikert(this)" title="${['ไม่มีความมั่นใจเลย','มั่นใจน้อยมาก','มั่นใจน้อย','มั่นใจปานกลาง','มั่นใจมาก','มั่นใจมากที่สุด'][score]}"&gt;${score}&lt;/button&gt;`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}).join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Section 3</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('person-centered-questions').innerHTML = personCenteredQuestions.map((q,i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const cv = formAnswers.section3[i];</p>
<p class="p1"><span class="Apple-converted-space">    </span>return `&lt;div class="question-row zebra-row p-4 border-b border-gray-100" data-question="s3_${i}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="flex flex-col sm:flex-row sm:items-center gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="inline-flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-600 rounded-lg text-sm font-bold mr-2"&gt;${i+1}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="text-gray-700 text-sm"&gt;${q}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>${cv !== undefined ? `&lt;div class="score-preview"&gt;เลือก: ระดับ ${cv}&lt;/div&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="flex gap-1 justify-end flex-wrap min-w-fit"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>${[1,2,3,4,5].map(score =&gt; `&lt;button type="button" class="likert-btn s3-${cv===score?score:'unselected'}" data-section="3" data-index="${i}" data-value="${score}" onclick="selectLikert(this)" title="${['','ไม่เห็นด้วยอย่างยิ่ง','ไม่เห็นด้วย','ไม่แน่ใจ','เห็นด้วย','เห็นด้วยอย่างยิ่ง'][score]}"&gt;${score}&lt;/button&gt;`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}).join('');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function selectLikert(btn) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const section = parseInt(btn.dataset.section);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const index <span class="Apple-converted-space">  </span>= parseInt(btn.dataset.index);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const value <span class="Apple-converted-space">  </span>= parseInt(btn.dataset.value);</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.closest('.question-row').classList.remove('error-highlight');</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.parentElement.querySelectorAll('.likert-btn').forEach(b =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>b.classList.remove('s2-0','s2-1','s2-2','s2-3','s2-4','s2-5','s3-1','s3-2','s3-3','s3-4','s3-5','s2-unselected','s3-unselected');</p>
<p class="p1"><span class="Apple-converted-space">    </span>b.classList.add(section === 2 ? 's2-unselected' : 's3-unselected');</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.classList.remove('s2-unselected','s3-unselected');</p>
<p class="p1"><span class="Apple-converted-space">  </span>btn.classList.add(section === 2 ? `s2-${value}` : `s3-${value}`);</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (section === 2) formAnswers.section2[index] = value;</p>
<p class="p1"><span class="Apple-converted-space">  </span>else formAnswers.section3[index] = value;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const levels = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>s2: ['ไม่มีความมั่นใจเลย','มั่นใจน้อยมาก','มั่นใจน้อย','มั่นใจปานกลาง','มั่นใจมาก','มั่นใจมากที่สุด'],</p>
<p class="p1"><span class="Apple-converted-space">    </span>s3: ['','ไม่เห็นด้วยอย่างยิ่ง','ไม่เห็นด้วย','ไม่แน่ใจ','เห็นด้วย','เห็นด้วยอย่างยิ่ง']</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>const sp = btn.closest('.question-row').querySelector('.score-preview');</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (sp) sp.textContent = `เลือก: ระดับ ${value} - ${section===2?levels.s2[value]:levels.s3[value]}`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>updateFormProgress();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function showSection(sectionNum) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>currentSection = sectionNum;</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('current-section').textContent = sectionNum;</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.querySelectorAll('.form-section').forEach((s,i) =&gt; s.classList.toggle('hidden', i+1 !== sectionNum));</p>
<p class="p1"><span class="Apple-converted-space">  </span>const startSection<span class="Apple-converted-space">  </span>= currentUser.personalInfo ? 2 : 1;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const totalSections = (currentUser.personalInfo ? 0 : 1) + 2 + (currentRound === 'post2' ? 1 : 0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('prev-section-btn').classList.toggle('hidden', sectionNum &lt;= startSection);</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('next-section-btn').classList.toggle('hidden', sectionNum === totalSections);</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('submit-btn').classList.toggle('hidden', sectionNum !== totalSections);</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('form-page').scrollTo({ top:0, behavior:'smooth' });</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function updateFormProgress() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const startSection<span class="Apple-converted-space">  </span>= currentUser.personalInfo ? 2 : 1;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const totalSections = (currentUser.personalInfo ? 0 : 1) + 2 + (currentRound === 'post2' ? 1 : 0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const completedSections = currentSection - startSection;</p>
<p class="p1"><span class="Apple-converted-space">  </span>let sp = 0;</p>
<p class="p1"><span class="Apple-converted-space">  </span>if<span class="Apple-converted-space">      </span>(currentSection === 1) sp = Object.keys(formAnswers.section1).length / 9;</p>
<p class="p1"><span class="Apple-converted-space">  </span>else if (currentSection === 2) sp = formAnswers.section2.filter(a=&gt;a!==undefined).length / competencyQuestions.length;</p>
<p class="p1"><span class="Apple-converted-space">  </span>else if (currentSection === 3) sp = formAnswers.section3.filter(a=&gt;a!==undefined).length / personCenteredQuestions.length;</p>
<p class="p1"><span class="Apple-converted-space">  </span>else if (currentSection === 4) sp = ((formAnswers.section4.cancer_patients!==undefined?1:0)+(formAnswers.section4.non_cancer_patients!==undefined?1:0)) / 2;</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('form-progress-bar').style.width = `${((completedSections + sp) / totalSections) * 100}%`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function validateSection(sectionNum) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>let isValid = true, firstError = null;</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (sectionNum === 1) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const fields = ['gender','age','marital_status','education','hospital_level','position','work_experience','pc_experience','pc_training'];</p>
<p class="p1"><span class="Apple-converted-space">    </span>fields.forEach(field =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const container = document.querySelector(`[data-question="${field}"]`);</p>
<p class="p1"><span class="Apple-converted-space">      </span>let hasValue = false;</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (['gender','marital_status','education','hospital_level','position','pc_experience','pc_training'].includes(field)) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const checked = container.querySelector('input[type="radio"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">        </span>hasValue = checked !== null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (hasValue) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>if (checked.value === 'other') {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const oi = container.querySelector(`input[name="${field}_other"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>hasValue = oi &amp;&amp; oi.value.trim() !== '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (hasValue) formAnswers.section1[field] = oi.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">          </span>} else { formAnswers.section1[field] = checked.value; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const el = container.querySelector('input[type="number"],input[type="text"]');</p>
<p class="p1"><span class="Apple-converted-space">        </span>hasValue = el &amp;&amp; el.value.trim() !== '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (hasValue) formAnswers.section1[field] = el.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (!hasValue) { isValid=false; container.classList.add('error-highlight'); if(!firstError)firstError=container; }</p>
<p class="p1"><span class="Apple-converted-space">      </span>else container.classList.remove('error-highlight');</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>} else if (sectionNum === 2) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>competencyQuestions.forEach((_,i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const row = document.querySelector(`[data-question="s2_${i}"]`);</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (formAnswers.section2[i] === undefined) { isValid=false; row.classList.add('error-highlight'); if(!firstError)firstError=row; }</p>
<p class="p1"><span class="Apple-converted-space">      </span>else row.classList.remove('error-highlight');</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>} else if (sectionNum === 3) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>personCenteredQuestions.forEach((_,i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const row = document.querySelector(`[data-question="s3_${i}"]`);</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (formAnswers.section3[i] === undefined) { isValid=false; row.classList.add('error-highlight'); if(!firstError)firstError=row; }</p>
<p class="p1"><span class="Apple-converted-space">      </span>else row.classList.remove('error-highlight');</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>} else if (sectionNum === 4) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const ci = document.getElementById('cancer-patients');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const ni = document.getElementById('non-cancer-patients');</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (ci.value.trim()==='') { isValid=false; ci.classList.add('error-highlight'); if(!firstError)firstError=ci; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>else { ci.classList.remove('error-highlight'); formAnswers.section4.cancer_patients = parseInt(ci.value)||0; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (ni.value.trim()==='') { isValid=false; ni.classList.add('error-highlight'); if(!firstError)firstError=ni; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>else { ni.classList.remove('error-highlight'); formAnswers.section4.non_cancer_patients = parseInt(ni.value)||0; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (!isValid &amp;&amp; firstError) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>firstError.scrollIntoView({ behavior:'smooth', block:'center' });</p>
<p class="p1"><span class="Apple-converted-space">    </span>showToast('กรุณาตอบคำถามให้ครบทุกข้อ', 'warning');</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>return isValid;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function calculateScores() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>return {</p>
<p class="p1"><span class="Apple-converted-space">    </span>section2: formAnswers.section2.reduce((a,b) =&gt; a + (b||0), 0),</p>
<p class="p1"><span class="Apple-converted-space">    </span>section3: formAnswers.section3.reduce((a,b) =&gt; a + (b||0), 0)</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function submitAssessment() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const totalSections = (currentUser.personalInfo ? 0 : 1) + 2 + (currentRound === 'post2' ? 1 : 0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (!validateSection(totalSections)) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const scores = calculateScores();</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (!currentUser.personalInfo) currentUser.personalInfo = { ...formAnswers.section1 };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>currentUser.rounds[currentRound] = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>completed: true,</p>
<p class="p1"><span class="Apple-converted-space">    </span>date: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">    </span>scores,</p>
<p class="p1"><span class="Apple-converted-space">    </span>patients: currentRound === 'post2'</p>
<p class="p1"><span class="Apple-converted-space">      </span>? { cancer: formAnswers.section4.cancer_patients||0, non_cancer: formAnswers.section4.non_cancer_patients||0 }</p>
<p class="p1"><span class="Apple-converted-space">      </span>: { cancer:0, non_cancer:0 }</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const interp2 = getInterpretation(2, scores.section2);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const interp3 = getInterpretation(3, scores.section3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const record = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>license_number: currentUser.licenseNumber,</p>
<p class="p1"><span class="Apple-converted-space">    </span>round: currentRound,</p>
<p class="p1"><span class="Apple-converted-space">    </span>...currentUser.personalInfo,</p>
<p class="p1"><span class="Apple-converted-space">    </span>section2_score: scores.section2,</p>
<p class="p1"><span class="Apple-converted-space">    </span>section3_score: scores.section3,</p>
<p class="p1"><span class="Apple-converted-space">    </span>interpretation_s2: interp2.level,</p>
<p class="p1"><span class="Apple-converted-space">    </span>interpretation_s3: interp3.level,</p>
<p class="p1"><span class="Apple-converted-space">    </span>cancer_patients: currentUser.rounds[currentRound].patients.cancer,</p>
<p class="p1"><span class="Apple-converted-space">    </span>non_cancer_patients: currentUser.rounds[currentRound].patients.non_cancer,</p>
<p class="p1"><span class="Apple-converted-space">    </span>assessment_date: new Date().toISOString()</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>formAnswers.section2.forEach((v,i) =&gt; record[`section2_q${i+1}`] = v||0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>formAnswers.section3.forEach((v,i) =&gt; record[`section3_q${i+1}`] = v||0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const result = await apiCreate(record);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (result &amp;&amp; result.isOk !== false) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>showModal(</p>
<p class="p1"><span class="Apple-converted-space">        </span>'บันทึกสำเร็จ!',</p>
<p class="p1"><span class="Apple-converted-space">        </span>`สมรรถนะการพยาบาล: ${scores.section2}/325 ระดับ${interp2.level}\nการดูแลยึดบุคคลเป็นศูนย์กลาง: ${scores.section3}/65 ระดับ${interp3.level}`,</p>
<p class="p1"><span class="Apple-converted-space">        </span>'success'</p>
<p class="p1"><span class="Apple-converted-space">      </span>);</p>
<p class="p1"><span class="Apple-converted-space">      </span>document.getElementById('modal-close-btn').onclick = () =&gt; { hideModal(); showTimeline(); };</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">      </span>showToast('เกิดข้อผิดพลาดในการบันทึกข้อมูล', 'error');</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>} catch(e) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>showToast('เกิดข้อผิดพลาด: ' + e.message, 'error');</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/* ===== Question typography ===== */</p>
<p class="p1">.q-label{</p>
<p class="p1"><span class="Apple-converted-space">  </span>font-size: 1.05rem;<span class="Apple-converted-space">        </span>/* ตัวคำถามใหญ่ขึ้น */</p>
<p class="p1"><span class="Apple-converted-space">  </span>line-height: 1.45;</p>
<p class="p1">}</p>
<p class="p1">#section-1 .question-item span,</p>
<p class="p1">#section-1 .question-item label span{</p>
<p class="p1"><span class="Apple-converted-space">  </span>font-size: 1.00rem;<span class="Apple-converted-space">        </span>/* ตัวเลือกเล็กกว่าเล็กน้อย */</p>
<p class="p1">}</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1">// ==================== DASHBOARD ====================</p>
<p class="p1">function showDashboard() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>showPage('dashboard-page');</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('dashboard-license').textContent = currentUser.licenseNumber;</p>
<p class="p1"><span class="Apple-converted-space">  </span>renderChart();</p>
<p class="p1"><span class="Apple-converted-space">  </span>renderScoreTable();</p>
<p class="p1"><span class="Apple-converted-space">  </span>renderInterpretations();</p>
<p class="p1"><span class="Apple-converted-space">  </span>renderPersonalInfoSummary();</p>
<p class="p1"><span class="Apple-converted-space">  </span>renderPatientExperience();</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function renderChart() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const ctx = document.getElementById('results-chart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (resultsChart) resultsChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">  </span>resultsChart = new Chart(ctx, {</p>
<p class="p1"><span class="Apple-converted-space">    </span>type: 'line',</p>
<p class="p1"><span class="Apple-converted-space">    </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">      </span>labels: ['Pre-test','Post-test 1','Post-test 2'],</p>
<p class="p1"><span class="Apple-converted-space">      </span>datasets: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">          </span>label: 'ส่วนที่ 2: สมรรถนะการพยาบาล (0-325)',</p>
<p class="p1"><span class="Apple-converted-space">          </span>data: [currentUser.rounds.pre.scores.section2, currentUser.rounds.post1.scores.section2, currentUser.rounds.post2.scores.section2],</p>
<p class="p1"><span class="Apple-converted-space">          </span>borderColor:'#F59E0B', backgroundColor:'rgba(245,158,11,0.1)',</p>
<p class="p1"><span class="Apple-converted-space">          </span>tension:0.4, fill:true, pointRadius:7, pointBackgroundColor:'#F59E0B', pointBorderColor:'#fff', pointBorderWidth:2</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">          </span>label: 'ส่วนที่ 3: การดูแลยึดบุคคลเป็นศูนย์กลาง (13-65)',</p>
<p class="p1"><span class="Apple-converted-space">          </span>data: [currentUser.rounds.pre.scores.section3, currentUser.rounds.post1.scores.section3, currentUser.rounds.post2.scores.section3],</p>
<p class="p1"><span class="Apple-converted-space">          </span>borderColor:'#A855F7', backgroundColor:'rgba(168,85,247,0.1)',</p>
<p class="p1"><span class="Apple-converted-space">          </span>tension:0.4, fill:true, pointRadius:7, pointBackgroundColor:'#A855F7', pointBorderColor:'#fff', pointBorderWidth:2</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>]</p>
<p class="p1"><span class="Apple-converted-space">    </span>},</p>
<p class="p1"><span class="Apple-converted-space">    </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">      </span>responsive:true, maintainAspectRatio:false,</p>
<p class="p1"><span class="Apple-converted-space">      </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>legend: { position:'bottom', labels:{ font:{size:13}, padding:20, usePointStyle:true } },</p>
<p class="p1"><span class="Apple-converted-space">        </span>tooltip: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>callbacks: {</p>
<p class="p1"><span class="Apple-converted-space">            </span>label: ctx =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>const v = ctx.parsed.y;</p>
<p class="p1"><span class="Apple-converted-space">              </span>const s = ctx.datasetIndex === 0 ? 2 : 3;</p>
<p class="p1"><span class="Apple-converted-space">              </span>return `${ctx.dataset.label}: ${v} : ระดับ${getInterpretation(s,v).level}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>},</p>
<p class="p1"><span class="Apple-converted-space">      </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>y: { beginAtZero:true, max:325, grid:{ color:'rgba(0,0,0,0.05)' } },</p>
<p class="p1"><span class="Apple-converted-space">        </span>x: { grid:{ display:false } }</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function renderScoreTable() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('score-table-body').innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;tr class="border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 font-medium text-gray-700"&gt;ส่วนที่ 2: สมรรถนะการพยาบาล&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center font-semibold text-amber-600"&gt;${currentUser.rounds.pre.scores.section2}/325&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center font-semibold text-amber-600"&gt;${currentUser.rounds.post1.scores.section2}/325&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center font-semibold text-amber-600"&gt;${currentUser.rounds.post2.scores.section2}/325&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;tr class="border-b bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 font-medium text-gray-700"&gt;ส่วนที่ 3: การดูแลยึดบุคคลเป็นศูนย์กลาง&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center font-semibold text-purple-600"&gt;${currentUser.rounds.pre.scores.section3}/65&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center font-semibold text-purple-600"&gt;${currentUser.rounds.post1.scores.section3}/65&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center font-semibold text-purple-600"&gt;${currentUser.rounds.post2.scores.section3}/65&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 font-medium text-gray-700"&gt;วันที่ทำแบบประเมิน&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center text-sm text-gray-500"&gt;${formatDate(currentUser.rounds.pre.date)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center text-sm text-gray-500"&gt;${formatDate(currentUser.rounds.post1.date)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;td class="px-4 py-3 text-center text-sm text-gray-500"&gt;${formatDate(currentUser.rounds.post2.date)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/tr&gt;`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function renderInterpretations() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const rounds = ['pre','post1','post2'];</p>
<p class="p1"><span class="Apple-converted-space">  </span>const labels = { pre:'Pre-test', post1:'Post-test 1', post2:'Post-test 2' };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('s2-interpretation').innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h4 class="font-bold text-gray-800 mb-3"&gt;ส่วนที่ 2: สมรรถนะการพยาบาล&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="space-y-2 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>${rounds.map(r =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const interp = getInterpretation(2, currentUser.rounds[r].scores.section2);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return `&lt;div class="flex justify-between items-center p-2 bg-white rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span&gt;${labels[r]}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="font-semibold ${interp.color}"&gt;${currentUser.rounds[r].scores.section2} (${interp.level})&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}).join('')}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('s3-interpretation').innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h4 class="font-bold text-gray-800 mb-3"&gt;ส่วนที่ 3: การดูแลยึดบุคคลเป็นศูนย์กลาง&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="space-y-2 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>${rounds.map(r =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const interp = getInterpretation(3, currentUser.rounds[r].scores.section3);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return `&lt;div class="flex justify-between items-center p-2 bg-white rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span&gt;${labels[r]}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;span class="font-semibold ${interp.color}"&gt;${currentUser.rounds[r].scores.section3} (${interp.level})&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}).join('')}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function renderPatientExperience() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const card = document.getElementById('patient-experience-card');</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (currentUser.rounds.post2.completed) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>card.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('cancer-count').textContent = currentUser.rounds.post2.patients.cancer;</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('non-cancer-count').textContent = currentUser.rounds.post2.patients.non_cancer;</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('total-patients').textContent = currentUser.rounds.post2.patients.cancer + currentUser.rounds.post2.patients.non_cancer;</p>
<p class="p1"><span class="Apple-converted-space">  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">    </span>card.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function renderPersonalInfoSummary() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const container = document.getElementById('personal-info-summary');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const info = currentUser.personalInfo;</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (!info) { container.innerHTML = '&lt;p class="text-gray-500"&gt;ไม่มีข้อมูลส่วนบุคคล&lt;/p&gt;'; return; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const labels = { gender:'เพศ', age:'อายุ', marital_status:'สถานภาพสมรส', education:'การศึกษา', hospital_level:'ระดับโรงพยาบาล', position:'ตำแหน่ง', work_experience:'ประสบการณ์', pc_experience:'ประสบการณ์ PC', pc_training:'อบรม PC' };</p>
<p class="p1"><span class="Apple-converted-space">  </span>const maps = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>gender: { male:'ชาย', female:'หญิง' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>marital_status: { single:'โสด', married:'สมรส', divorced:'หย่าร้าง', widowed:'หม้าย', separated:'แยก' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>education: { bachelor:'ปริญญาตรี', master:'ปริญญาโท', doctorate:'ปริญญาเอก' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>hospital_level: { community:'ชุมชน', general:'ทั่วไป', center:'ศูนย์' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>position: { head:'หัวหน้า', chief_ward:'หัวหน้าหอผู้ป่วย', deputy_chief:'รองหัวหน้า', nurse:'พยาบาล' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>pc_experience: { yes:'เคย', no:'ไม่เคย' },</p>
<p class="p1"><span class="Apple-converted-space">    </span>pc_training: { yes:'เคย', no:'ไม่เคย' }</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>const fmt = (k,v) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (maps[k] &amp;&amp; maps[k][v]) return maps[k][v];</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (k==='age'||k==='work_experience') return `${v} ปี`;</p>
<p class="p1"><span class="Apple-converted-space">    </span>return v;</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>container.innerHTML = Object.entries(info)</p>
<p class="p1"><span class="Apple-converted-space">    </span>.filter(([k]) =&gt; k !== 'training_course')</p>
<p class="p1"><span class="Apple-converted-space">    </span>.map(([k,v]) =&gt; `&lt;div class="bg-gray-50 rounded-lg p-3"&gt;&lt;p class="text-xs text-gray-500"&gt;${labels[k]||k}&lt;/p&gt;&lt;p class="font-medium text-gray-800"&gt;${fmt(k,v)}&lt;/p&gt;&lt;/div&gt;`)</p>
<p class="p1"><span class="Apple-converted-space">    </span>.join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (info.training_course) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>container.innerHTML += `&lt;div class="col-span-2 sm:col-span-3 bg-blue-50 rounded-lg p-3"&gt;&lt;p class="text-xs text-blue-600"&gt;หลักสูตรการอบรม&lt;/p&gt;&lt;p class="font-medium text-blue-800"&gt;${info.training_course}&lt;/p&gt;&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// ==================== EVENT LISTENERS ====================</p>
<p class="p1">document.getElementById('logout-btn')?.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>currentUser = null;</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('license-input').value = '';</p>
<p class="p1"><span class="Apple-converted-space">  </span>showPage('login-page');</p>
<p class="p1">});</p>
<p class="p1">document.getElementById('back-to-timeline')?.addEventListener('click', () =&gt; showTimeline());</p>
<p class="p1">document.getElementById('back-to-timeline-from-dashboard')?.addEventListener('click', () =&gt; showTimeline());</p>
<p class="p1">document.getElementById('prev-section-btn')?.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const startSection = currentUser.personalInfo ? 2 : 1;</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (currentSection &gt; startSection) showSection(currentSection - 1);</p>
<p class="p1">});</p>
<p class="p1">document.getElementById('next-section-btn')?.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (validateSection(currentSection)) showSection(currentSection + 1);</p>
<p class="p1">});</p>
<p class="p1">document.getElementById('submit-btn')?.addEventListener('click', submitAssessment);</p>
<p class="p1">document.getElementById('view-dashboard-btn')?.addEventListener('click', showDashboard);</p>
<p class="p1">document.getElementById('modal-close-btn')?.addEventListener('click', hideModal);</p>
<p class="p1">document.getElementById('modal-overlay')?.addEventListener('click', e =&gt; { if (e.target === e.currentTarget) hideModal(); });</p>
<p class="p2"><br></p>
<p class="p1">document.addEventListener('change', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (e.target.name === 'marital_status') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.querySelector('[name=marital_status_other]').style.display = e.target.value === 'other' ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (e.target.name === 'hospital_level') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.querySelector('[name=hospital_level_other]').style.display = e.target.value === 'other' ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>if (e.target.name === 'position') {</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.querySelector('[name=position_other]').style.display = e.target.value === 'other' ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">});</p>
<p class="p2"><br></p>
<p class="p1">// ==================== INIT ====================</p>
<p class="p1">initLogin();</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
